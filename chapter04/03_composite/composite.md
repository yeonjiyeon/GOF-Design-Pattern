### COMPOSITE

**의도**

부분과 전체 계층을 표현하기 위해 객체들을 모아 트리 구조로 구성. 사용자로 하여금 개별 객체와 복합 객체를 모두 동일하게 다를 수 있도록 하는 패턴.

**활용성**

- 부분 전체 객체 계통을 표현하고 싶을 때 → 트리구조
  -사용자가 객체의 합성으로 생긴 복합 객체와 개개의 객체 사이의 차이를 알지 않고도 자기 일을 할 수 있도록 만들고 싶을 때

**구조**

**참여자**

- Component: 집합 관계에 정의될 모든 객체에 대한 인터페이스 정의
- Leaf: 가장 밑단의 객체, 객체 합성에 가장 기본이 되는 객체의 행동 정의
- Composite: 자식이 있는 구성요소에 대한 행동을 정의
- Client: 인터페이스를 통해 구조 내 객체들 조작

**협력 방법**

-사용자는 복합 구조의 객체 간의 상호 작용을 위해 Component 클래스 인터페이스를 사용.
요청 받은 대상이 Leaf 인스턴스→ 자신이 정의 한 행동을 직접 수행
대상이 Composite → 자식 객체들에게 요청을 위임한다. 위임 하기 전에 다른 처리를 수행할 수도 있다.

**결과**

-컴포짓 패턴을 사용하면, 기본 객체(Leaf)와 복합 객체(Composite)를 같은 방식으로 다룰 수 있어서, 사용자가 개별 객체와 복합 객체를 구분할 필요 없이 일관되게 코드를 작성할 수 있다
-사용자 코드가 단순해 진다. →사용자는 객체 특성이 복합 구조인지 단일 구조인지 조차 모르고 개발 할 수 있다.
-새로운 종류의 구성 요소를 쉽게 추가할 수 있다.
-컴포짓 패턴은 너무 유연해서, 특정 제약(예: 폴더에 하나의 파일만 포함 가능)을 걸기가 어렵다.
컴파일 타임에는 이런 제약을 검사할 수 없으므로, 런타임에 검사해야 한다는 것이 단점

**구현**

-포함 객체에 대한 명확한 참조 자
-구성 요소 공유
-컴포넌트 인터페이스를 최대화
-자식을 관리하는 연산 선언
-컴포넌트가 컴포넌트 리스트를 구현 할 수 있을까?
-자식 사이에 순서 정하기
-성능 개선을 위한 캐싱
-누가 구성요소를 삭제 하는 책임을 질까?
-구성요소를 저장하기 위해 가장 적당한 데이터 구조는?