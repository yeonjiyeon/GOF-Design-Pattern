### Iterator

**의도**

:내부 표현부를 노출하지 않고 어떤 집합 객체(예: 리스트, 배열 등)에 속한 원소들을 순차적으로 접근할 수 있는 방법을 제공하는 패턴

**동기**

: 이미 정의한 방법과 다른 방법으로 리스트 등의 집합 객체들을 원소들을 순회하고 싶거나 하나 이상의 순회 방법을 정의하고 싶을 때

**활용성**

-객체 내부 표현 방식을 모르고도 집합 객체의 각 원소들의 접근 하고 싶을 때

-집합 개체를 순회 하는 다양한 방법을 지원하고 싶을 때

-서로 다른 집합 객체 구조에 대해서도 동일한 방법으로 순회하고 싶을 때

**구조**

**참여자**

- Iterator: 집합체의 원소들을 순차적으로 접근할 수 있는 인터페이스
- ConcreteIterator:
    - **Iterator 인터페이스**를 구현한 클래스.
    - 집합 객체의 실제 원소들을 순차적으로 접근할 수 있는 방법을 정의
    - 순회 중 집합 객체 내 현재 위치 기억
- Aggregate: Iterator 객체를 생성하는 인터페이스 정의
- ConcreteAggregate
    - **Aggregate 인터페이스**를 구현한 클래스
    - 실제로 원소들이 들어있는 **집합체**를 나타내며, `createIterator()`를 통해 **Iterator** 객체를 생성

**협력 방법**

:ConcreteAggregate는 집합 객체 내 현재 객체를 계속 추적하고, 다음번 방문할 객체를 결정

**결과**

1. 집합 객체의 다양한 순회 방법을 제공한다.
2. Iterator는 Aggregate 클래스의 인터페이스를 단순화한다.
3. 집합 객체에 따라 하나 이상의 순회 방법이 제공될 수 있다.

**구현**

1. 어떤 부분에서 반복을 제어할 것인지 결정하는 것이 가장 중요한 안건이다.
    1. 외부 반복자: 사용자가 반복 제어 → 더 유연한 방법
    2. 내부 반복자: 반복자 자신이 제어
2. 순회 알고리즘을 어디서 정의할 것인가?
    1. Iterator에 정의
    2. Aggregate에 정의 → 커서:커서는 현재 원소를 가리키는 포인터 역할을 하며, 집합체 내에서 순회를 제어한다.
3. 어떻게 반복자를 견고하게 만들 수 있을까? 복사본을 추가하게 하면 순회 중 값 변경시에 대한 위험성 방지는 가능하지만, 추가 비용이 발생한다.
4. 추가적으로 필요한 반복자 연산
5. 다형성을 지닌 반복자를 이용하는 방법 → 추가비용을 지불해야 하기 때문에 필요할 때만 사용하고 확장된 반복자를 사용하는 것이 낫다.
6. 반복자에는 특수한 접근 권한이 있다.
7. 복합체를 위한 반복자
8. 널 반복자